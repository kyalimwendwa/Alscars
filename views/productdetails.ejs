<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/productdetail.css">
  
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <title>Product</title>
    <style>
       
    </style>
</head>
<body>
    <header>
        <div class="container2">

          <div class="logo">
            <h1>ALSCARS</h1>
          </div>

        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li class="dropdown">
                    <a href="/used-cars">Used Cars</a>
    
                </li>
                <li class="dropdown">
                    <a href="#">Auction</a>
    
                </li>
                <li class="dropdown">
                    <a href="/new-cars">New Cars</a>
    
                </li>
                <li><a href="">Sell Cars</a></li>
                <li><a href="">Support</a></li>
            </ul>
        </nav>

        <div class="icons">
    
            <div class="div1">
                <a href="">Login</a>
    
    
            </div>
            <div class="div">
              <a href="">Sign up</a>
            </div>
        </div>

        </div>
       
    </header>

  <!-- productdetail.ejs -->

<!-- productdetail.ejs -->
<div class="product-detail">
    <% cars.forEach((car, index) => { %>
        <div class="left">
        <div class="image-container">
            <img src="<%= car.mainImage %>" alt="Car Image" class="main-image" id="mainImage" >
            
        </div>

        <div style="display: flex; flex-wrap: wrap;">
            <% car.otherImages.forEach((image, imageIndex) => { %>
                <img src="<%= image %>" alt="Other Image" style="max-width: 80px; margin: 5px; height: auto;" class="other-image-<%= index %>-<%= imageIndex %>" onclick="showOtherImage(<%= index %>, <%= imageIndex %>)">
            <% }); %>
        </div>
        <div class="container">
            
            <table>
              
                <tr>
                    <td class="td1">Price (KES)</td>
                    <td class="td2"><%= car.price %></td>
                </tr>
                <tr>
                    <td class="td1">Stock</td>
                    <td class="td2"><%= car.stock %></td>
                </tr>
                <tr>
                    <td class="td1">Condition</td>
                    <td class="td2"><%= car.condition %></td>
                </tr>
                <tr>
                    <td class="td1">Year of Manufacture</td>
                    <td class="td2" id="year"><%= car.year %></td>
                </tr>
                <tr>
                    <td class="td1">Mileage</td>
                    <td class="td2"><%= car.mileage %></td>
                </tr>
                <tr>
                    <td class="td1">Body</td>
                    <td class="td2"><%= car.body %></td>
                </tr>
                <tr>
                    <td class="td1">Train</td>
                    <td class="td2"><%= car.train %></td>
                </tr>
                <tr>
                    <td class="td1">Fuel type</td>
                    <td class="td2"><%= car.enginefuel %></td>
                </tr>
                <tr>
                    <td class="td1">Transmission</td>
                    <td class="td2"><%= car.transmission %></td>
                </tr>
                <tr>
                    <td class="td1">Engine Size</td>
                    <td class="td2"><%= car.enginesize %></td>
                </tr>
                <tr>
                    <td class="td1">Horse Power</td>
                    <td class="td2"><%= car.horsepower %></td>
                </tr>
                <tr>
                    <td class="td1">Torque</td>
                    <td class="td2"><%= car.torque %></td>
                </tr>
                <tr>
                    <td class="td1">Acceleration (0-100 Kph)</td>
                    <td class="td2"><%= car.acceleration %></td>
                </tr>
            </table>
        </div>

        </div>
        
        <div class="right">
         <h2 id="carname"><%= car.name %></h2>   
         <p><%= car.description %></p>

         <div class="features">
            <div class="accordion">Exterior features
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"/>
                  </svg>
            </div>
            <ul>
              <% exteriorArray.forEach(item => { %>
              <li><%= item.replace(/[\[\]\\"\']/g, '').trim() %></li>
              <% }); %>
            </ul>
            <div class="accordion">Interior features
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"/>
                  </svg>
            </div>
            <ul>
              <% interiorArray.forEach(item => { %>
              <li><%= item.replace(/[\[\]\\"\']/g, '').trim() %></li>
              <% }); %>
            </ul>
            <div class="accordion">Safety features
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"/>
                  </svg>
            </div>
            <ul>
              <% safetyArray.forEach(item => { %>
              <li><%= item.replace(/[\[\]\\"\']/g, '').trim() %></li>
              <% }); %>
            </ul>
          </div>

          <div class="buttons">
            <button id="avail" onclick="openorm()">Is it still available?</button>
            <button id="mesage" onclick="openForm()">Message Dealership  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope" viewBox="0 0 16 16">
                <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"/>
              </svg></button>
          </div>


        <div class="form-container" id="myForm" style="display: none;">
            <div class="form-content">

                <span class="close" onclick="closeForm()">&times;</span>


                <form action="/enquiry" method="post" class="enquiry" id="enquiry">
              
              
              <div class="details">
                  <input type="hidden" id="carname" name="carname" value="<%= car.name %>">
                  <label for="" style="margin-top: 1rem; font-weight: 700; color: #1c1c1c;font-size: 20px;"><%= car.name %></label>
                  <p style="font-size: 12px; color: #1c1c1c; margin-top: 1rem; margin-bottom: 10px;">Contact the seller with any questions, finance details, or part exchange enquiries. Just choose your enquiry type, provide contact details, and send your message.</p>
                  <input type="hidden" id="carid" name="carid" value="<%= car.id %>">
                  <input type="hidden" id="year" name="year" value="<%= car.year %>">
      
                  <div class="names" style="display: flex; width: 100%;">
                      <div class="flex" style="display: block; width: 100%;">
                          <label for="">First name</label>
                          <input type="text" id="firstname" name="firstname"  required >
                      </div>
                      
                      <div class="flex" style="display: block; width: 100%;">
                          <label for="">Last name</label>
                          <input type="text" id="lastname" name="lastname"  required >
                      </div>
                      
                  </div>
                  
                  <div class="fll" style="display: flex; width: 100%;">
                      <div class="flex" style="display: block; width: 100%;">
                          <label for="">Email address</label>
                          <input type="email" id="email" name="email" required>
                      </div>
                      
                      <div class="flex" style="display: block; width: 100%;">
                          <label for="">Contact number</label>
                          <input type="text" id="contact" name="contact" required>
                      </div>
                      
                  </div>
                     
                     <div class="flee" style="display: flex; margin-top: 1rem; gap: 1rem; text-align: center;align-items: center;">
                      <label for="">Message</label>
                      <textarea name="description" id="description" placeholder=""></textarea>
                     </div>
                  
                     
          
          
                     
                      
              </div>
                  
            
                  
               <button>Send message</button>
              
             
                </form>
              
                



            </div>
          

   

        </div>
        <div class="form-container1" id="myForm1" style="display: none;">
            <div class="form-content">

                <span class="close" onclick="closeForm()">&times;</span>


                <form action="/available" method="post" class="enquiry" id="available">

                    <div class="details">
                        <input type="hidden" id="carname" name="carname" value="<%= car.name %>">
                        <label for="" style="margin-top: 1rem; font-weight: 700; color: #1c1c1c;font-size: 20px;"><%= car.name %></label>
                        <p style="font-size: 12px; color: #1c1c1c; margin-top: 1rem; margin-bottom: 10px;">Contact the seller with any questions, finance details, or part exchange enquiries. Just choose your enquiry type, provide contact details, and send your message.</p>
                    
                        <input type="hidden" id="year" name="year" value="<%= car.year %>">
                        <input type="hidden" id="carid" name="carid" value="<%= car.id %>">
                        <div class="names" style="display: flex; width: 100%;">
                            <div class="flex" style="display: block; width: 100%;">
                                <label for="">First name</label>
                                <input type="text" id="firstname" name="firstname"  required >
                            </div>
                            
                            <div class="flex" style="display: block; width: 100%;">
                                <label for="">Last name</label>
                                <input type="text" id="lastname" name="lastname"  required >
                            </div>
                            
                        </div>
                        
                        <div class="fll" style="display: flex; width: 100%;">
                            <div class="flex" style="display: block; width: 100%;">
                                <label for="">Email address</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            
                            <div class="flex" style="display: block; width: 100%;">
                                <label for="">Contact number</label>
                                <input type="text" id="contact" name="contact" required>
                            </div>
                            
                        </div>
                           
                           
                        
                           
                
                
                           
                            
                    </div>

                    <button>Submit Enquiry</button>

                </form>
              
                



            </div>
          

   

        </div>


        </div>

        


    <% }) %>
</div>

<div class="similar-cars-container">
    <h1>Still Can't Decide?</h1>
    <p>You may also like these similar options</p>
    <div class="card-container">
        <% similarCars.forEach(similarCar => { %>
            <div class="card">
                <img src="<%= similarCar.mainImage %>" alt="Car Image">
                <h1>KES <%= similarCar.price %></h1>
                <h2><%= similarCar.name %></h2>
                <div class="flex">
                    <p><%= similarCar.year %></p>
                    <p><%= similarCar.body %></p>
                    <p><%= similarCar.transmission %></p>
                    <p><%= similarCar.enginefuel %></p>
                    <p><%= similarCar.enginesize %></p>
                </div>
                <div class="view" onclick="viewDetails('<%= similarCar.id %>')">
                    <p>View more details</p>
                    <span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8"/>
                        </svg>
                    </span>
                </div>
            </div>
        <% }) %>
    </div>
</div>

<footer>
    <div class="container1">
      
        <div class="footer-logo">
          <img src="" alt="Company Logo">
        </div>
        <div class="footer-content">
          <h1>Our Company</h1>
            <ul>
              
              <li>Terms & Conditions</li>
              <li>Privacy policy</li>
              <li>About Us</li>
              <li>Contact us</li>
            </ul>
         </div>
         <div class="footer-content">
          <h1>Get Help</h1>
          <ul>
            <li>FAQs</li>
            <li>Shipping</li>
            <li>Returns</li>
            <li>Payment options</li>
          </ul>
        </div>
        <div class="footer-content">
          <h1>Explore</h1>
          <ul>
            <li>Used cars</li>
            <li>New cars</li>
            <li>Auction</li>
            <li>Sell cars</li>
            
          </ul>
        </div>
        <div class="footer-content">
          <p>&copy; 2024 Car Selling Company. All rights reserved.</p>
          <p>123 Street, Nairobi, Kenya</p>
          <p>Email: alscars@gmail.com</p>
          <p>Phone: +254 756 789 780</p>
        </div>
    </div>
</footer>











<script>
    let previousClickedImage = null; // Store the previously clicked image

    function showOtherImage(index, imageIndex) {
        // Remove border from the previously clicked image
        if (previousClickedImage) {
            previousClickedImage.style.border = 'none';
        }

        // Show the clicked image and set its border
        const clickedImage = document.querySelector('.other-image-' + index + '-' + imageIndex);
        clickedImage.style.display = 'block';
        clickedImage.style.border = '5px solid #acbebe';

        // Update the main image
        const mainImage = document.querySelector('.main-image');
        mainImage.src = clickedImage.src;

        // Update the previously clicked image
        previousClickedImage = clickedImage;
    }
</script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  $(document).ready(function(){
    $('.accordion').click(function(){
      $(this).toggleClass('active').next('ul').slideToggle('fast');
    });
  });
</script>

<script>
    function viewDetails(carId) {
window.location.href = '/product/' + carId;
   }
</script>
<script>
    function openForm() {
  document.getElementById("myForm").style.display = "block";
}

// Function to close the form
function closeForm() {
  document.getElementById("myForm").style.display = "none";
  document.getElementById("myForm1").style.display = "none";
}
function openorm() {
  document.getElementById("myForm1").style.display = "block";
  
  
}
</script>




</body>
</html>